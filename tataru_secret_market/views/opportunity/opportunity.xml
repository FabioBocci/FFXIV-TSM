<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Tree view for Item Opportunities -->
    <record id="view_item_opportunity_tree" model="ir.ui.view">
        <field name="name">item.opportunity.tree</field>
        <field name="model">tataru_secret_market.item_opportunity</field>
        <field name="arch" type="xml">
            <tree string="Item Opportunities">
				<field name="item_icon" string="Icon" widget="image_url" class="o_field_image oe_avatar"/>
                <field name="item_id"/>
                <field name="opportunity_percentage" widget="percentage"/>
                <field name="price_to_sell"/>
                <field name="price_to_buy"/>
                <field name="price_to_craft"/>
                <field name="last_time_in_list_of_transactions"/>
            </tree>
        </field>
    </record>

    <!-- Form view for Item Opportunities -->
    <record id="view_item_opportunity_form" model="ir.ui.view">
        <field name="name">item.opportunity.form</field>
        <field name="model">tataru_secret_market.item_opportunity</field>
        <field name="arch" type="xml">
            <form string="Item Opportunities">
				<header>
					<button name="action_compute_all" string="Reload" type="object" class="btn btn-primary"/>
				</header>

                <group col="2">
					<group>
						<field name="item_id"/>
						<field name="dont_delate" />
						<field name="price_to_sell"/>
						<field name="price_to_buy"/>
						<field name="price_to_craft"/>
						<field name="opportunity_percentage"/>
						<field name="last_time_in_list_of_transactions" readonly="1"/>
					</group>
					<group>
						<field name="item_icon_hd" widget="image_url" class="o_field_image oe_avatar"/>
					</group>
                </group>

                <notebook>
                    <page string="Crafting">
                        <field name="item_crafting">
                            <tree string="Item Crafting">
                                <field name="result_item_id"/>
                            </tree>
                        </field>
                    </page>
                    <page string="Availability">
                        <field name="item_availability">
                            <tree string="Item Availability">
                                <field name="item_id"/>
                            </tree>
                        </field>
                    </page>
                </notebook>
            </form>
        </field>
    </record>

    <!-- Search view for Item Opportunities -->
    <record id="view_item_opportunity_search" model="ir.ui.view">
        <field name="name">item.opportunity.search</field>
        <field name="model">tataru_secret_market.item_opportunity</field>
        <field name="arch" type="xml">
            <search string="Item Opportunities">
                <field name="item_id"/>
                <field name="price_to_sell"/>
                <field name="price_to_buy"/>
                <field name="price_to_craft"/>
                <field name="opportunity_percentage"/>
            </search>
        </field>
    </record>

    <!-- Action for Item Opportunities -->
    <record id="action_item_opportunity" model="ir.actions.act_window">
        <field name="name">Item Opportunities</field>
        <field name="res_model">tataru_secret_market.item_opportunity</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first Item Opportunity
            </p>
        </field>
    </record>

    <!-- Menu item for Item Opportunities -->
    <menuitem id="menu_item_opportunity" name="Item Opportunities" action="action_item_opportunity"/>
</odoo>
